<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Crystal Docs 0.27.1">


<link href="../css/style.css" rel="stylesheet" type="text/css">

<script type="text/javascript" src="../js/doc.js"></script>
<script type="text/javascript">
  CrystalDoc.base_path = "../";
</script>

  <meta id="repository-name" content="github.com/Sija/raven.cr">
  <title>Raven::Instance - github.com/Sija/raven.cr</title>
</head>
<body>

<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="repository-links">
      <a href="../index.html">README</a>
    </div>
  </div>

  <div class="search-results" class="hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class=" " data-id="github.com/Sija/raven.cr/toplevel" data-name="top level namespace">
      <a href="../toplevel.html">Top Level Namespace</a>
      
    </li>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Exception" data-name="exception">
      <a href="../Exception.html">Exception</a>
      
    </li>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Logger" data-name="logger">
      <a href="../Logger.html">Logger</a>
      
    </li>
  
  <li class="parent open current" data-id="github.com/Sija/raven.cr/Raven" data-name="raven">
      <a href="../Raven.html">Raven</a>
      
        <ul>
  
  <li class="parent " data-id="github.com/Sija/raven.cr/Raven/Amber" data-name="raven::amber">
      <a href="../Raven/Amber.html">Amber</a>
      
        <ul>
  
  <li class="parent " data-id="github.com/Sija/raven.cr/Raven/Amber/Pipe" data-name="raven::amber::pipe">
      <a href="../Raven/Amber/Pipe.html">Pipe</a>
      
        <ul>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Amber/Pipe/Error" data-name="raven::amber::pipe::error">
      <a href="../Raven/Amber/Pipe/Error.html">Error</a>
      
    </li>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Amber/Pipe/UserFeedback" data-name="raven::amber::pipe::userfeedback">
      <a href="../Raven/Amber/Pipe/UserFeedback.html">UserFeedback</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="github.com/Sija/raven.cr/Raven/Backtrace" data-name="raven::backtrace">
      <a href="../Raven/Backtrace.html">Backtrace</a>
      
        <ul>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Backtrace/Line" data-name="raven::backtrace::line">
      <a href="../Raven/Backtrace/Line.html">Line</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="github.com/Sija/raven.cr/Raven/Breadcrumb" data-name="raven::breadcrumb">
      <a href="../Raven/Breadcrumb.html">Breadcrumb</a>
      
        <ul>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Breadcrumb/Logger" data-name="raven::breadcrumb::logger">
      <a href="../Raven/Breadcrumb/Logger.html">Logger</a>
      
    </li>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Breadcrumb/Severity" data-name="raven::breadcrumb::severity">
      <a href="../Raven/Breadcrumb/Severity.html">Severity</a>
      
    </li>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Breadcrumb/Type" data-name="raven::breadcrumb::type">
      <a href="../Raven/Breadcrumb/Type.html">Type</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/BreadcrumbBuffer" data-name="raven::breadcrumbbuffer">
      <a href="../Raven/BreadcrumbBuffer.html">BreadcrumbBuffer</a>
      
    </li>
  
  <li class="parent " data-id="github.com/Sija/raven.cr/Raven/Client" data-name="raven::client">
      <a href="../Raven/Client.html">Client</a>
      
        <ul>
  
  <li class="parent " data-id="github.com/Sija/raven.cr/Raven/Client/State" data-name="raven::client::state">
      <a href="../Raven/Client/State.html">State</a>
      
        <ul>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Client/State/Status" data-name="raven::client::state::status">
      <a href="../Raven/Client/State/Status.html">Status</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="github.com/Sija/raven.cr/Raven/Configuration" data-name="raven::configuration">
      <a href="../Raven/Configuration.html">Configuration</a>
      
        <ul>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Configuration/Encoding" data-name="raven::configuration::encoding">
      <a href="../Raven/Configuration/Encoding.html">Encoding</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Context" data-name="raven::context">
      <a href="../Raven/Context.html">Context</a>
      
    </li>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/CrashHandler" data-name="raven::crashhandler">
      <a href="../Raven/CrashHandler.html">CrashHandler</a>
      
    </li>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Delegators" data-name="raven::delegators">
      <a href="../Raven/Delegators.html">Delegators</a>
      
    </li>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Error" data-name="raven::error">
      <a href="../Raven/Error.html">Error</a>
      
    </li>
  
  <li class="parent " data-id="github.com/Sija/raven.cr/Raven/Event" data-name="raven::event">
      <a href="../Raven/Event.html">Event</a>
      
        <ul>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Event/HashType" data-name="raven::event::hashtype">
      <a href="../Raven/Event/HashType.html">HashType</a>
      
    </li>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Event/Hint" data-name="raven::event::hint">
      <a href="../Raven/Event/Hint.html">Hint</a>
      
    </li>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Event/Severity" data-name="raven::event::severity">
      <a href="../Raven/Event/Severity.html">Severity</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/HTTPHandler" data-name="raven::httphandler">
      <a href="../Raven/HTTPHandler.html">HTTPHandler</a>
      
    </li>
  
  <li class=" current" data-id="github.com/Sija/raven.cr/Raven/Instance" data-name="raven::instance">
      <a href="../Raven/Instance.html">Instance</a>
      
    </li>
  
  <li class="parent " data-id="github.com/Sija/raven.cr/Raven/Interface" data-name="raven::interface">
      <a href="../Raven/Interface.html">Interface</a>
      
        <ul>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Interface/Exception" data-name="raven::interface::exception">
      <a href="../Raven/Interface/Exception.html">Exception</a>
      
    </li>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Interface/HTTP" data-name="raven::interface::http">
      <a href="../Raven/Interface/HTTP.html">HTTP</a>
      
    </li>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Interface/Message" data-name="raven::interface::message">
      <a href="../Raven/Interface/Message.html">Message</a>
      
    </li>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Interface/SingleException" data-name="raven::interface::singleexception">
      <a href="../Raven/Interface/SingleException.html">SingleException</a>
      
    </li>
  
  <li class="parent " data-id="github.com/Sija/raven.cr/Raven/Interface/Stacktrace" data-name="raven::interface::stacktrace">
      <a href="../Raven/Interface/Stacktrace.html">Stacktrace</a>
      
        <ul>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Interface/Stacktrace/Frame" data-name="raven::interface::stacktrace::frame">
      <a href="../Raven/Interface/Stacktrace/Frame.html">Frame</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="github.com/Sija/raven.cr/Raven/Kemal" data-name="raven::kemal">
      <a href="../Raven/Kemal.html">Kemal</a>
      
        <ul>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Kemal/ExceptionHandler" data-name="raven::kemal::exceptionhandler">
      <a href="../Raven/Kemal/ExceptionHandler.html">ExceptionHandler</a>
      
    </li>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Kemal/LogHandler" data-name="raven::kemal::loghandler">
      <a href="../Raven/Kemal/LogHandler.html">LogHandler</a>
      
    </li>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Kemal/UserFeedbackHandler" data-name="raven::kemal::userfeedbackhandler">
      <a href="../Raven/Kemal/UserFeedbackHandler.html">UserFeedbackHandler</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Logger" data-name="raven::logger">
      <a href="../Raven/Logger.html">Logger</a>
      
    </li>
  
  <li class="parent " data-id="github.com/Sija/raven.cr/Raven/Lucky" data-name="raven::lucky">
      <a href="../Raven/Lucky.html">Lucky</a>
      
        <ul>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Lucky/ErrorHandler" data-name="raven::lucky::errorhandler">
      <a href="../Raven/Lucky/ErrorHandler.html">ErrorHandler</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="github.com/Sija/raven.cr/Raven/Mixin" data-name="raven::mixin">
      <a href="../Raven/Mixin.html">Mixin</a>
      
        <ul>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Mixin/InitializeWith" data-name="raven::mixin::initializewith">
      <a href="../Raven/Mixin/InitializeWith.html">InitializeWith</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="github.com/Sija/raven.cr/Raven/Processor" data-name="raven::processor">
      <a href="../Raven/Processor.html">Processor</a>
      
        <ul>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Processor/Compact" data-name="raven::processor::compact">
      <a href="../Raven/Processor/Compact.html">Compact</a>
      
    </li>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Processor/Cookies" data-name="raven::processor::cookies">
      <a href="../Raven/Processor/Cookies.html">Cookies</a>
      
    </li>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Processor/HTTPHeaders" data-name="raven::processor::httpheaders">
      <a href="../Raven/Processor/HTTPHeaders.html">HTTPHeaders</a>
      
    </li>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Processor/RemoveCircularReferences" data-name="raven::processor::removecircularreferences">
      <a href="../Raven/Processor/RemoveCircularReferences.html">RemoveCircularReferences</a>
      
    </li>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Processor/RemoveStacktrace" data-name="raven::processor::removestacktrace">
      <a href="../Raven/Processor/RemoveStacktrace.html">RemoveStacktrace</a>
      
    </li>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Processor/RequestMethodData" data-name="raven::processor::requestmethoddata">
      <a href="../Raven/Processor/RequestMethodData.html">RequestMethodData</a>
      
    </li>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Processor/SanitizeData" data-name="raven::processor::sanitizedata">
      <a href="../Raven/Processor/SanitizeData.html">SanitizeData</a>
      
    </li>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Processor/UTF8Conversion" data-name="raven::processor::utf8conversion">
      <a href="../Raven/Processor/UTF8Conversion.html">UTF8Conversion</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="github.com/Sija/raven.cr/Raven/Sidekiq" data-name="raven::sidekiq">
      <a href="../Raven/Sidekiq.html">Sidekiq</a>
      
        <ul>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Sidekiq/ExceptionHandler" data-name="raven::sidekiq::exceptionhandler">
      <a href="../Raven/Sidekiq/ExceptionHandler.html">ExceptionHandler</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="github.com/Sija/raven.cr/Raven/Transport" data-name="raven::transport">
      <a href="../Raven/Transport.html">Transport</a>
      
        <ul>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Transport/Dummy" data-name="raven::transport::dummy">
      <a href="../Raven/Transport/Dummy.html">Dummy</a>
      
    </li>
  
  <li class="parent " data-id="github.com/Sija/raven.cr/Raven/Transport/HTTP" data-name="raven::transport::http">
      <a href="../Raven/Transport/HTTP.html">HTTP</a>
      
        <ul>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/Transport/HTTP/Error" data-name="raven::transport::http::error">
      <a href="../Raven/Transport/HTTP/Error.html">Error</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/Sija/raven.cr/Raven/UserFeedbackHandler" data-name="raven::userfeedbackhandler">
      <a href="../Raven/UserFeedbackHandler.html">UserFeedbackHandler</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1 class="type-name">

  <span class="kind">class</span> Raven::Instance

</h1>


  <ul class="superclass-hierarchy"><li class="superclass"><a href="../Raven/Instance.html">Raven::Instance</a></li><li class="superclass">Reference</li><li class="superclass">Object</li></ul>




  <h2>Overview</h2>

  <p>A copy of Raven's base module class methods, minus some of the integration
and global hooks since it's meant to be used explicitly. Useful for
sending errors to multiple sentry projects in a large application.</p>

<pre><code><span class="k">class</span> <span class="t">Foo</span>
  <span class="k">def</span> <span class="m">initialize</span>
    @other_raven <span class="o">=</span> <span class="t">Raven</span><span class="t">::</span><span class="t">Instance</span>.<span class="k">new</span>
    @other_raven.configure <span class="k">do</span> <span class="o">|</span>config<span class="o">|</span>
      config.dsn <span class="o">=</span> <span class="s">&quot;http://...&quot;</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="m">foo</span>
    <span class="c"># ...</span>


  <span class="k">rescue</span> e
    @other_raven.capture(e)
  <span class="k">end</span>
<span class="k">end</span></code></pre>














  <h2>Defined in:</h2>
  
    
      <a href="https://github.com/Sija/raven.cr/blob/b34bc81917c7b221ebabdb537e31fe6abf14f811/src/raven/instance.cr#L24" target="_blank">
        raven/instance.cr
      </a>
    
    <br/>
  





  <h2>Constructors</h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#new%28context%3Dnil%2Cconfig%3Dnil%29-class-method" class="signature"><strong>.new</strong>(context = <span class="n">nil</span>, config = <span class="n">nil</span>)</a>
        
      </li>
    
  </ul>





  <h2>Instance Method Summary</h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#annotate_exception%28exc%2C%2A%2Aoptions%29-instance-method" class="signature"><strong>#annotate_exception</strong>(exc, **options)</a>
        
          <div class="summary"><p>Provides extra context to the exception prior to it being handled by Raven.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#breadcrumbs-instance-method" class="signature"><strong>#breadcrumbs</strong></a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#capture%28%2A%2Aoptions%2C%26block%29-instance-method" class="signature"><strong>#capture</strong>(**options, &block)</a>
        
          <div class="summary"><p>Capture and process any exceptions from the given block.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#capture%28obj%3AException%7CString%2C%2A%2Aoptions%29-instance-method" class="signature"><strong>#capture</strong>(obj : Exception | String, **options)</a>
        
          <div class="summary"><p>Captures given <code><a href="../Exception.html">Exception</a></code> or <code>String</code> object.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#capture%28obj%3AException%7CString%2C%2A%2Aoptions%2C%26block%29-instance-method" class="signature"><strong>#capture</strong>(obj : Exception | String, **options, &block)</a>
        
          <div class="summary"><p>Captures given <code><a href="../Exception.html">Exception</a></code> or <code>String</code> object and yields created <code><a href="../Raven/Event.html">Raven::Event</a></code> before sending to Sentry.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#capture%28klass%3AString%2Cmessage%3AString%2Cbacktrace%3Dnil%2C%2A%2Aoptions%2C%26block%29-instance-method" class="signature"><strong>#capture</strong>(klass : String, message : String, backtrace = <span class="n">nil</span>, **options, &block)</a>
        
          <div class="summary"><p>Captures an exception with given <em>klass</em>, <em>message</em> and optional <em>backtrace</em>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#client-instance-method" class="signature"><strong>#client</strong></a>
        
          <div class="summary"><p>The client object is responsible for delivering formatted data to the Sentry server.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#client%3D%28client%3AClient%29-instance-method" class="signature"><strong>#client=</strong>(client : Client)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#configuration-instance-method" class="signature"><strong>#configuration</strong></a>
        
          <div class="summary"><p>See <code><a href="../Raven/Configuration.html">Raven::Configuration</a></code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#configuration%3D%28configuration%3AConfiguration%29-instance-method" class="signature"><strong>#configuration=</strong>(configuration : Configuration)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#configure%28%26block%29-instance-method" class="signature"><strong>#configure</strong>(&block)</a>
        
          <div class="summary"><p>Call this method to modify defaults in your initializers.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#configure-instance-method" class="signature"><strong>#configure</strong></a>
        
          <div class="summary"><p>Call this method to modify defaults in your initializers.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#context-instance-method" class="signature"><strong>#context</strong></a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#extra_context%28hash%3Dnil%2C%2A%2Aoptions%29-instance-method" class="signature"><strong>#extra_context</strong>(hash = <span class="n">nil</span>, **options)</a>
        
          <div class="summary"><p>Bind extra context.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#last_event_id-instance-method" class="signature"><strong>#last_event_id</strong></a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#logger%28%2Aargs%2C%2A%2Aoptions%2C%26block%29-instance-method" class="signature"><strong>#logger</strong>(*args, **options, &block)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#logger%28%2Aargs%2C%2A%2Aoptions%29-instance-method" class="signature"><strong>#logger</strong>(*args, **options)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#report_status-instance-method" class="signature"><strong>#report_status</strong></a>
        
          <div class="summary"><p>Tell the log that the client is good to go.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#send_event%28event%2Chint%3Dnil%29-instance-method" class="signature"><strong>#send_event</strong>(event, hint = <span class="n">nil</span>)</a>
        
          <div class="summary"><p>Send an event to the configured Sentry server.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#send_feedback%28event_id%3AString%2Cdata%3AHash%29-instance-method" class="signature"><strong>#send_feedback</strong>(event_id : String, data : Hash)</a>
        
          <div class="summary"><p>Sends User Feedback to Sentry server.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#tags_context%28hash%3Dnil%2C%2A%2Aoptions%29-instance-method" class="signature"><strong>#tags_context</strong>(hash = <span class="n">nil</span>, **options)</a>
        
          <div class="summary"><p>Bind tags context.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#user_context%28hash%3Dnil%2C%2A%2Aoptions%29-instance-method" class="signature"><strong>#user_context</strong>(hash = <span class="n">nil</span>, **options)</a>
        
          <div class="summary"><p>Bind user context.</p></div>
        
      </li>
    
  </ul>





<div class="methods-inherited">
  
    


    


    


  
    


    


    


  
</div>


  <h2>Constructor Detail</h2>
  
    <div class="entry-detail" id="new(context=nil,config=nil)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(context = <span class="n">nil</span>, config = <span class="n">nil</span>)

        <a class="method-permalink" href="#new%28context%3Dnil%2Cconfig%3Dnil%29-class-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/b34bc81917c7b221ebabdb537e31fe6abf14f811/src/raven/instance.cr#L37" target="_blank">View source</a>]
        
      </div>
    </div>
  





  <h2>Instance Method Detail</h2>
  
    <div class="entry-detail" id="annotate_exception(exc,**options)-instance-method">
      <div class="signature">
        
        def <strong>annotate_exception</strong>(exc, **options)

        <a class="method-permalink" href="#annotate_exception%28exc%2C%2A%2Aoptions%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Provides extra context to the exception prior to it being handled by
Raven. An exception can have multiple annotations, which are merged
together.</p>

<p>The options (annotation) is treated the same as the <em>options</em>
parameter to <code><a href="../Raven/Instance.html#capture%28%2A%2Aoptions%2C%26block%29-instance-method">#capture</a></code> or <code><a href="../Raven/Event.html#from%28exc%3AException%2C%2A%2Aoptions%29-class-method">Event.from</a></code>, and
can contain the same <code>:user</code>, <code>:tags</code>, etc. options as these methods.</p>

<p>These will be merged with the <em>options</em> parameter to
<code><a href="../Raven/Event.html#from%28exc%3AException%2C%2A%2Aoptions%29-class-method">Event.from</a></code> at the top of execution.</p>

<pre><code><span class="k">begin</span>
  raise <span class="s">&quot;Hello&quot;</span>
<span class="k">rescue</span> ex
  <span class="t">Raven</span>.annotate_exception(ex, user: {id: <span class="n">1</span>, email: <span class="s">&quot;foo@example.com&quot;</span>})
  raise ex
<span class="k">end</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/b34bc81917c7b221ebabdb537e31fe6abf14f811/src/raven/instance.cr#L239" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="breadcrumbs-instance-method">
      <div class="signature">
        
        def <strong>breadcrumbs</strong>

        <a class="method-permalink" href="#breadcrumbs-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/b34bc81917c7b221ebabdb537e31fe6abf14f811/src/raven/instance.cr#L284" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="capture(**options,&amp;block)-instance-method">
      <div class="signature">
        
        def <strong>capture</strong>(**options, &block)

        <a class="method-permalink" href="#capture%28%2A%2Aoptions%2C%26block%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Capture and process any exceptions from the given block.</p>

<pre><code><span class="t">Raven</span>.capture <span class="k">do</span>
  <span class="t">MyApp</span>.run
<span class="k">end</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/b34bc81917c7b221ebabdb537e31fe6abf14f811/src/raven/instance.cr#L211" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="capture(obj:Exception|String,**options)-instance-method">
      <div class="signature">
        
        def <strong>capture</strong>(obj : <a href="../Exception.html">Exception</a> | String, **options)

        <a class="method-permalink" href="#capture%28obj%3AException%7CString%2C%2A%2Aoptions%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Captures given <code><a href="../Exception.html">Exception</a></code> or <code>String</code> object.</p>

<pre><code><span class="k">begin</span>
  <span class="c"># ...</span>
<span class="k">rescue</span> e
  <span class="t">Raven</span>.capture e
<span class="k">end</span>

<span class="t">Raven</span>.capture <span class="s">&quot;boo!&quot;</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/b34bc81917c7b221ebabdb537e31fe6abf14f811/src/raven/instance.cr#L171" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="capture(obj:Exception|String,**options,&amp;block)-instance-method">
      <div class="signature">
        
        def <strong>capture</strong>(obj : <a href="../Exception.html">Exception</a> | String, **options, &block)

        <a class="method-permalink" href="#capture%28obj%3AException%7CString%2C%2A%2Aoptions%2C%26block%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Captures given <code><a href="../Exception.html">Exception</a></code> or <code>String</code> object and yields
created <code><a href="../Raven/Event.html">Raven::Event</a></code> before sending to Sentry.</p>

<pre><code><span class="t">Raven</span>.capture(<span class="s">&quot;boo!&quot;</span>) <span class="k">do</span> <span class="o">|</span>event<span class="o">|</span>
  event.extra.merge! foo: <span class="s">&quot;bar&quot;</span>
<span class="k">end</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/b34bc81917c7b221ebabdb537e31fe6abf14f811/src/raven/instance.cr#L130" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="capture(klass:String,message:String,backtrace=nil,**options,&amp;block)-instance-method">
      <div class="signature">
        
        def <strong>capture</strong>(klass : String, message : String, backtrace = <span class="n">nil</span>, **options, &block)

        <a class="method-permalink" href="#capture%28klass%3AString%2Cmessage%3AString%2Cbacktrace%3Dnil%2C%2A%2Aoptions%2C%26block%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Captures an exception with given <em>klass</em>, <em>message</em>
and optional <em>backtrace</em>.</p>

<pre><code><span class="t">Raven</span>.capture <span class="s">&quot;FooBarError&quot;</span>, <span class="s">&quot;Foo got bar!&quot;</span></code></pre>

<p><span class="flag purple">NOTE</span>  Useful in scenarios where you need to reconstruct the error
(usually along with a backtrace from external source), while
having no access to the actual Exception object.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/b34bc81917c7b221ebabdb537e31fe6abf14f811/src/raven/instance.cr#L185" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="client-instance-method">
      <div class="signature">
        
        def <strong>client</strong>

        <a class="method-permalink" href="#client-instance-method">#</a>
      </div>
      
        <div class="doc"><p>The client object is responsible for delivering formatted data to the
Sentry server.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/b34bc81917c7b221ebabdb537e31fe6abf14f811/src/raven/instance.cr#L32" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="client=(client:Client)-instance-method">
      <div class="signature">
        
        def <strong>client=</strong>(client : <a href="../Raven/Client.html">Client</a>)

        <a class="method-permalink" href="#client%3D%28client%3AClient%29-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/b34bc81917c7b221ebabdb537e31fe6abf14f811/src/raven/instance.cr#L34" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="configuration-instance-method">
      <div class="signature">
        
        def <strong>configuration</strong>

        <a class="method-permalink" href="#configuration-instance-method">#</a>
      </div>
      
        <div class="doc"><p>See <code><a href="../Raven/Configuration.html">Raven::Configuration</a></code>.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/b34bc81917c7b221ebabdb537e31fe6abf14f811/src/raven/instance.cr#L26" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="configuration=(configuration:Configuration)-instance-method">
      <div class="signature">
        
        def <strong>configuration=</strong>(configuration : <a href="../Raven/Configuration.html">Configuration</a>)

        <a class="method-permalink" href="#configuration%3D%28configuration%3AConfiguration%29-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/b34bc81917c7b221ebabdb537e31fe6abf14f811/src/raven/instance.cr#L28" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="configure(&amp;block)-instance-method">
      <div class="signature">
        
        def <strong>configure</strong>(&block)

        <a class="method-permalink" href="#configure%28%26block%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Call this method to modify defaults in your initializers.</p>

<pre><code><span class="t">Raven</span>.configure <span class="k">do</span> <span class="o">|</span>config<span class="o">|</span>
  config.dsn <span class="o">=</span> <span class="s">&quot;http://...&quot;</span>
<span class="k">end</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/b34bc81917c7b221ebabdb537e31fe6abf14f811/src/raven/instance.cr#L72" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="configure-instance-method">
      <div class="signature">
        
        def <strong>configure</strong>

        <a class="method-permalink" href="#configure-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Call this method to modify defaults in your initializers.</p>

<pre><code><span class="t">Raven</span>.configure <span class="k">do</span> <span class="o">|</span>config<span class="o">|</span>
  config.dsn <span class="o">=</span> <span class="s">&quot;http://...&quot;</span>
<span class="k">end</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/b34bc81917c7b221ebabdb537e31fe6abf14f811/src/raven/instance.cr#L67" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="context-instance-method">
      <div class="signature">
        
        def <strong>context</strong>

        <a class="method-permalink" href="#context-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/b34bc81917c7b221ebabdb537e31fe6abf14f811/src/raven/instance.cr#L42" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="extra_context(hash=nil,**options)-instance-method">
      <div class="signature">
        
        def <strong>extra_context</strong>(hash = <span class="n">nil</span>, **options)

        <a class="method-permalink" href="#extra_context%28hash%3Dnil%2C%2A%2Aoptions%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Bind extra context. Merges with existing context (if any).</p>

<p>Extra context shows up as <em>Additional Data</em> within Sentry,
and is completely arbitrary.</p>

<pre><code><span class="t">Raven</span>.extra_context(my_custom_data: <span class="s">&quot;value&quot;</span>)</code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/b34bc81917c7b221ebabdb537e31fe6abf14f811/src/raven/instance.cr#L280" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="last_event_id-instance-method">
      <div class="signature">
        
        def <strong>last_event_id</strong>

        <a class="method-permalink" href="#last_event_id-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/b34bc81917c7b221ebabdb537e31fe6abf14f811/src/raven/instance.cr#L116" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="logger(*args,**options,&amp;block)-instance-method">
      <div class="signature">
        
        def <strong>logger</strong>(*args, **options, &block)

        <a class="method-permalink" href="#logger%28%2Aargs%2C%2A%2Aoptions%2C%26block%29-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/b34bc81917c7b221ebabdb537e31fe6abf14f811/src/raven/instance.cr#L28" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="logger(*args,**options)-instance-method">
      <div class="signature">
        
        def <strong>logger</strong>(*args, **options)

        <a class="method-permalink" href="#logger%28%2Aargs%2C%2A%2Aoptions%29-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/b34bc81917c7b221ebabdb537e31fe6abf14f811/src/raven/instance.cr#L28" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="report_status-instance-method">
      <div class="signature">
        
        def <strong>report_status</strong>

        <a class="method-permalink" href="#report_status-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Tell the log that the client is good to go.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/b34bc81917c7b221ebabdb537e31fe6abf14f811/src/raven/instance.cr#L51" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="send_event(event,hint=nil)-instance-method">
      <div class="signature">
        
        def <strong>send_event</strong>(event, hint = <span class="n">nil</span>)

        <a class="method-permalink" href="#send_event%28event%2Chint%3Dnil%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Send an event to the configured Sentry server.</p>

<pre><code>event <span class="o">=</span> <span class="t">Raven</span><span class="t">::</span><span class="t">Event</span>.<span class="k">new</span>(message: <span class="s">&quot;An error&quot;</span>)
<span class="t">Raven</span>.send_event(event)</code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/b34bc81917c7b221ebabdb537e31fe6abf14f811/src/raven/instance.cr#L109" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="send_feedback(event_id:String,data:Hash)-instance-method">
      <div class="signature">
        
        def <strong>send_feedback</strong>(event_id : String, data : Hash)

        <a class="method-permalink" href="#send_feedback%28event_id%3AString%2Cdata%3AHash%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Sends User Feedback to Sentry server.</p>

<p><em>data</em> should be a <code>Hash(String, String)</code> with following keys:</p>

<ul><li><em>name</em> (populated from <code>context.user[:username]</code> if left empty)</li><li><em>email</em> (populated from <code>context.user[:email]</code> if left empty)</li><li><em>comments</em></li></ul>

<pre><code><span class="t">Raven</span>.send_feedback(<span class="t">Raven</span>.last_event_id, {
  <span class="s">&quot;name&quot;</span>     => <span class="s">&quot;...&quot;</span>,
  <span class="s">&quot;email&quot;</span>    => <span class="s">&quot;...&quot;</span>,
  <span class="s">&quot;comments&quot;</span> => <span class="s">&quot;...&quot;</span>,
})</code></pre>

<p><span class="flag purple">NOTE</span>  Sentry server records single (last) feedback for a given <em>event_id</em>.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/b34bc81917c7b221ebabdb537e31fe6abf14f811/src/raven/instance.cr#L93" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="tags_context(hash=nil,**options)-instance-method">
      <div class="signature">
        
        def <strong>tags_context</strong>(hash = <span class="n">nil</span>, **options)

        <a class="method-permalink" href="#tags_context%28hash%3Dnil%2C%2A%2Aoptions%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Bind tags context. Merges with existing context (if any).</p>

<p>Tags are key / value pairs which generally represent things like
application version, environment, role, and server names.</p>

<pre><code><span class="t">Raven</span>.tags_context(my_custom_tag: <span class="s">&quot;tag_value&quot;</span>)</code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/b34bc81917c7b221ebabdb537e31fe6abf14f811/src/raven/instance.cr#L268" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="user_context(hash=nil,**options)-instance-method">
      <div class="signature">
        
        def <strong>user_context</strong>(hash = <span class="n">nil</span>, **options)

        <a class="method-permalink" href="#user_context%28hash%3Dnil%2C%2A%2Aoptions%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Bind user context. Merges with existing context (if any).</p>

<p>It is recommending that you send at least the <code>:id</code> and <code>:email</code>
values. All other values are arbitrary.</p>

<pre><code><span class="t">Raven</span>.user_context(id: <span class="n">1</span>, email: <span class="s">&quot;foo@example.com&quot;</span>)</code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/b34bc81917c7b221ebabdb537e31fe6abf14f811/src/raven/instance.cr#L256" target="_blank">View source</a>]
        
      </div>
    </div>
  




</div>

</body>
</html>
